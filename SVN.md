# 									SVN

# 一、VisualSVN(服务端工具)下载与安装

- 首先进入[SubVersion官网](http://subversion.apache.org)

  ![image-20200327092438349](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327092438349.png)

  ![image-20200327092935646](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327092935646.png)

  ![image-20200327092834845](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327092834845.png)

- 然后执行安装即可

  ![image-20200327113431175](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327113431175.png)	

  ![image-20200327113459214](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327113459214.png)	

  ![image-20200327113657472](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327113657472.png)	

  ![image-20200327113809274](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327113809274.png)	

  ![image-20200327113901924](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327113901924.png)	

  ![image-20200327113916290](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327113916290.png)	

- 完成安装

  ![image-20200327114217725](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327114217725.png)	

  ![image-20200327114345687](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327114345687.png)

# 二、创建仓库、用户，组

## 1.创建仓库

![image-20200327114504756](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327114504756.png)

![image-20200327114547411](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327114547411.png)	

![image-20200327114658565](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327114658565.png)	

![image-20200327114724981](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327114724981.png)	

![image-20200327114805340](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327114805340.png)	

![image-20200327114839493](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327114839493.png)	

## 2.创建用户

![image-20200327115211322](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327115211322.png)

![image-20200327115247502](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327115247502.png)	

![image-20200327115316882](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327115316882.png)

## 3.创建组，并为组指定用户

![image-20200327174508743](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327174508743.png)

![image-20200327174553244](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327174553244.png)	

![image-20200327174645820](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327174645820.png)	

## 4.为仓库指定权限

![image-20200327174824270](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327174824270.png)

![image-20200327174905576](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327174905576.png)	

![image-20200327175000785](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327175000785.png)	

## 5.通过浏览器访问仓库

![image-20200327175150941](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327175150941.png)

# 三、客户端TortoiseSVN安装

- 同样在上述官网找到对应的安装文件和版本下载安装即可
- 安装过程直接next即可
- 安装后需要重启电脑

## 1.浏览仓库

![image-20200327185745881](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327185745881.png)	

![image-20200327185840236](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327185840236.png)	

![image-20200327185925971](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327185925971.png)	

![image-20200327190138035](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327190138035.png)	

## 2.checkout

![image-20200327190355097](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327190355097.png)	

![image-20200327191018431](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327191018431.png)	

![image-20200327190523498](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327190523498.png)	

## 3.add/commit

![image-20200327195834279](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327195834279.png)	

![image-20200327195911105](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327195911105.png)

![image-20200327200046536](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327200046536.png)

![image-20200327203902369](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327203902369.png)	![image-20200327203944035](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327203944035.png)

## 4.update

![image-20200327204702285](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327204702285.png)

## 5.更新到历史版本

![image-20200327205011887](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327205011887.png)

![image-20200327205058118](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327205058118.png)	

## 6.delete

![image-20200327205507296](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327205507296.png)

```
上面操作只是删除本地文件,只有conmit后,才会删除服务器的文件
```

![image-20200327205720150](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327205720150.png)

## 7.导入导出

![image-20200327210225974](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327210225974.png)	

- Import将本地资源导入到svn服务器
- Export导出项目，和checkout的区别,它不存在.svn隐藏文件

## 8.冲突问题与解决

### 8.1冲突的产生



### 8.2冲突的解决



然后重新提交该文件即可

# 四、IDEA中SVN的配置和使用

> **前提是已经完成TortoiseSVN安装的安装**
>
> **且在安装中勾选了如下选项**

![image-20200328173003278](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328173003278.png)	

## 1.配置步骤

![image-20200328174013969](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328174013969.png)	![image-20200328174235241](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328174235241.png)

![image-20200328174317538](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328174317538.png)	

![image-20200328174354076](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328174354076.png)	

![image-20200328174433076](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328174433076.png)	

![image-20200328174504094](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328174504094.png)	

![image-20200328174523026](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328174523026.png)	

![image-20200328174545304](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328174545304.png)	

## 2.基本使用

### 2.1提交整个工程

![image-20200328175916600](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328175916600.png)

- 完成提交

![image-20200328180308775](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328180308775.png)

### 2.2提交某个新建文件

![image-20200328180602979](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328180602979.png)

### 2.3更新操作

![image-20200328180847075](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328180847075.png)

````或
或
````

![image-20200328181053977](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328181053977.png)

### 2.4CheckOut

![image-20200328181655178](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328181655178.png)	

![image-20200328181714700](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328181714700.png)	

### 2.5配置忽略

![image-20200328181919349](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328181919349.png)

### 2.6IDEA中解决冲突

![image-20200328182132569](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328182132569.png)

![image-20200328191017590](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328191017590.png)

![image-20200328191047516](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328191047516.png)

- 然后再次提交就可以了

# 五、SVN规范

## 1.SVN目录结构及作用

![image-20200328191636893](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328191636893.png)	

![image-20200328191725274](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200328191725274.png)	

- Trunk 主干目录，此目录下的文件为基准文件
- Branches 用于开发的分支目录
- Tags 用于发布的版本目录【假设有一个项目OA,我们完成了1.0版本，这时就可以打一个tags】
- 后续我们在OA项目上添加一个新的模块(及时通讯),我们就可以开一个分支,又有一个公司需要在我们OA基础上添加财务管理模块，我们又可以打一个分支。
- 我们后续针对OA的1.0版本在升级，我们不需要原来附加功能,就可以在原来的主干上继续开发，形成OA2.0版本，开发完成后就可以在打一个tags

## 2.分支与标记

```
分支【brach】的定义规则为:Project name + 日期时间 + 功能点
标记【tags】的第一规则为:Project name +版本号
版本号定义为:三段数字编号 xxx.xxx.xxx 第一个:革命性的产品升级版  第二个:新功能版本  第三个:修正bug
```

### 2.1把IDEA中的项目share到上述具有svn标准目录格式的仓库中

![image-20200327221605267](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327221605267.png)

### 2.2把当前服务器端的主干下的文件拷贝到分支目录下

![image-20200327221716335](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327221716335.png)

### 2.3另外创建一个本地仓库，checkout上述仓库中的主干

![image-20200327221906914](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200327221906914.png)

